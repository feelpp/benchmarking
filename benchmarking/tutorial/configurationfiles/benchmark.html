<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Benchmark configuration :: Benchmarking</title>
    <link rel="canonical" href="https://feelpp.github.io/benchmarking/benchmarking/tutorial/configurationfiles/benchmark.html">
    <meta name="generator" content="Antora 3.1.14">
<link rel="stylesheet" href="../../../_/css/site.css">

<!-- Font Awesome webfont CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
<script>!function(l,p){if(l.protocol!==p&&l.host=="docs.antora.org"){l.protocol=p}else if(/\.gitlab\.io$/.test(l.host)){l.replace(p+"//docs.antora.org"+l.pathname.substr(l.pathname.indexOf("/",1))+l.search+l.hash)}}(location,"https:")</script>

<script src="../../../_/js/vendor/tabs-block-extension.js"></script>
<script src="../../../_/js/vendor/tabs-block-behavior.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/plotly.js-dist-min@2" charset="utf-8"></script>
  <script src="https://cdn.jsdelivr.net/npm/d3@7" charset="utf-8"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },

  TeX: {
      Macros: {
      bold: ["{\\bf #1}",1],
      calTh: "{\\mathcal{T}_h}",
      card: ["{\\operatorname{card}(#1)}",1],
      card: ["{\\operatorname{card}(#1)}",1],
      Ck: ["{\\mathcal{C}^{#1}}",1],
      deformt: ["{\\mathbf{\\varepsilon(#1)}}",1],
      diam: "{\\operatorname{diam}}",
      dim: ["{\\operatorname{dim}(#1)}",1],
      disp: ["{\\mathbf{#1}}",1],
      domain: "{\\Omega}",
      ds: "",
      essinf: "{\\operatorname{ess}\\, \\operatorname{inf}}",
      F:"{\\mathcal{F}}",
      geo: "{\\mathrm{geo}}",
      Ich: ["{\\mathcal{I}^{#1}_{c,h}#2}",2],
      Id: "{\\mathcal{I}}",
      Ilag: ["{\\mathcal{I}^{\\mathrm{lag}}_{#1}}",1],
      jump: ["{[\\![ #1 ]\\!]}",1],
      n:"{\\mathbf{n}}",
      Ne: "{N_{\\mathrm{e}}}",
      Next: "{\\mathrm{n}}",
      nf: "{n_f}",
      ngeo: "{n_{\\mathrm{geo}}}",
      Nma: "{N_{\\mathrm{ma}}}",
      NN: "{\\mathbb N}",
      Nno: "{N_{\\mathrm{no}}}",
      Nso: "{N_{\\mathrm{so}}}",
      opdim: "{\\operatorname{dim}}",
      p: "{\\mathrm{p}}",
      P:"{\\mathcal{P}}",
      Pch: ["{P^{#1}_{c,h}}",1],
      Pcho: ["{P^{#1}_{c,h,0}}",1],
      Pk: ["{\\mathcal{P}^{#1}}",1],
      poly: ["{\\mathbb{#1}",1],
      poly: ["{\\mathbb{#1}}",1],
      prect: ["{\\left\\(#1\\right\\)}",1],
      q:"{\\mathbf{q}}",
      Qch: ["{Q^{#1}_{c,h}}",1],
      Qk: ["{\\mathcal{Q}^{#1}}",1],
      R: ["{\\mathbb{R}^{#1}}",1],
      RR: "{\\mathbb R}",
      set: ["{\\left\\{#1\\right\\}}",1],
      stresst: ["{\\mathbf{\\sigma(#1)}}",1],
      T:"{\\mathcal{T}}",
      tr: "{\\operatorname{tr}}",
      v:"{\\mathbf{v}}",
      vertiii: ["\\left\\vert\\kern-0.25ex\\left\\vert\\kern-0.25ex\\left\\vert #1 \\right\\vert\\kern-0.25ex\\right\\vert\\kern-0.25ex\\right\\vert",1]
  },
  extensions: ["mhchem.js"] 
  }
});
</script>
<!--<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML"></script>-->
<!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script> -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_CHTML'></script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>-->

<!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" integrity="sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js" integrity="sha384-jmxIlussZWB7qCuB+PgKG1uLjjxbVVIayPJwi6cG6Zb4YKq0JIw+OMnkkEC7kYCq" crossorigin="anonymous"></script>-->
<script>var uiRootPath = '../../../_'</script>

  </head>
  <body class="article">
<link rel="stylesheet" href="../../../_/css/figures.css">
<link rel="stylesheet" href="../../../_/css/table.css">

<header class="header">
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark navbar-template-project" style="border-top: 4px solid #9E9E9E">
        <div class="navbar-brand">
            <div class="navbar-item feelpp-logo">
                <a href="https://feelpp.github.io/benchmarking">Benchmarking</a>
            </div>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <div class="navbar-item">
                    <a href="https://docs.feelpp.org/">Documentation Reference</a>
                </div>
                <div class="navbar-item has-dropdown is-hoverable download-item">
                    <div class="navbar-item"><a href="https://docs.feelpp.org/user/latest/install/index.html" class="download-btn">Get Feel++</a></div>
                </div>
                <div class="navbar-item">
                    <a class="navbar-brand"  href="https://www.cemosis.fr">
                        <img class="cemosis-logo"  src="../../../_/img/cemosis-logo.svg" alt="Cemosis logo"/>
                    </a>
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<a href="#" class="menu-expand-toggle"></a>
<div class="nav-container" data-component="benchmarking" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">The Feel++ Benchmarking Project</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../index.html">Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../index.html">Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../gettingstarted.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../configuration.html">Configuration Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system.html">System Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="magicstrings.html">Magic Strings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="machine.html">Machine Configuration</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="benchmark.html">Benchmark Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="plots.html">Plots Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../training/index.html">Training</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../training/reframe/index.html">Introduction to <em>feelpp.benchmarking</em></a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/reframe/introduction.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/reframe/settings.html">System Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/reframe/machine_specs.html">Machine Specifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/reframe/example_app.html">Example Application</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/reframe/benchmark_specs.html">Benchmark Specifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/reframe/plot_specs.html">Plot Specifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/reframe/executing.html">Executing the Benchmark</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../training/reframe/handsOn/index.html">Hands-on session 1</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/reframe/handsOn/exercise1.html">Exercise 1</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/reframe/handsOn/exercise2.html">Exercise 2</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../training/advanced/index.html">Advanced Usage of <em>feelpp.benchmarking</em></a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/advanced/containers.html">Configuring Containers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/advanced/remote_files.html">Handling Remote Files</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/advanced/file_dependencies.html">Handling File Dependencies</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/advanced/custom_perfvars.html">Custom Performance Variables</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/advanced/memory.html">Memory Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/advanced/visualization.html">Visualization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../training/advanced/workflow.html">Continuous Benchmarking Workflow</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../training/advanced/handsOn/index.html">Hands-on session 2</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../json_report/index.html">Json Report Renderer</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../json_report/json_schema/report_schema.html#_report_structure">Json Report Structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../json_report/json_schema/report_schema.html#_including_data">Including Data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../json_report/json_schema/report_schema.html#_section_node">Adding a section</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../json_report/json_schema/report_schema.html#_text_node">Adding text</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../json_report/json_schema/report_schema.html#_latex_node">Adding latex</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../json_report/json_schema/report_schema.html#_list_node">Using lists</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../json_report/json_schema/report_schema.html#_image_node">Images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../json_report/json_schema/report_schema.html#_table_node">Tables</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../json_report/json_schema/report_schema.html#_plot_node">Figures</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../dashboard_renderer/index.html">Catalog Dashboard Renderer</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">The Feel++ Benchmarking Project</span>
    <span class="version"></span>
  </div>
  <ul class="components">
      <li class="component is-current">
        <a class="title" href="../../index.html">The Feel++ Benchmarking Project</a>
      </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
    <a href="../../index.html" class="home-link"></a>
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">The Feel++ Benchmarking Project</a></li>
    <li><a href="../index.html">Documentation</a></li>
    <li><a href="../configuration.html">Configuration Guide</a></li>
    <li><a href="benchmark.html">Benchmark Configuration</a></li>
  </ul>
</nav>

  
    <div class="edit-this-page"><a href="https://github.com/feelpp/benchmarking/edit/master/docs/modules/tutorial/pages/configurationfiles/benchmark.adoc">Edit this Page</a></div>
  
  <div class="page-downloads">
  <span class="label">Download as</span>
  <ul class="download-options">
    <li>
      <a onclick="print(this)" href="#" data-toggle="tooltip" data-placement="left" title="Print to PDF"
         class="pdf-download">
        <img class="pdf-file-icon icon" src="../../../_/img/pdf.svg"/> .pdf
      </a>
    </li>
      <li>
        <a href="#"
           title="Download Jupyter Notebook" data-toggle="tooltip" data-placement="left" class="jupyter-download">
          <img class="jupyter-file-icon icon" src="../../../_/img/jupyter-logo.svg"/> .ipynb
        </a>
      </li>
  </ul>
</div>
</div>

  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Benchmark configuration</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Configuring a benchmark can be quite extensive, as this framework focuses on flexibility. For this, the documentation will be divided in main sections.</p>
</div>
<div class="paragraph">
<p>The benchmark configuration file describes precisely how the benchmarking should be done, for example, specifying where the executable is located, the options to pass to the application, and how the tests will be parametrized.</p>
</div>
<div class="paragraph">
<p>The base of the configuration file is shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "executable": "",
    "use_case_name": "",
    "timeout":"",
    "env_variables":{},
    "options": [],
    "resources":{},
    "platforms":{},
    "additional_files":{},
    "scalability":{},
    "sanity":{},
    "parameters":{},
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Users can add any field used for refactoring. For example, one can do the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"output_directory":"/data/outputs" // This is a custom field
"options":["--output {{output_directory}}"]</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_fields_on_json_root"><a class="anchor" href="#_fields_on_json_root"></a>1. Fields on JSON root</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">executable [<strong>str</strong>]</dt>
<dd>
<p>Path to the application executable or command to execute.</p>
</dd>
<dt class="hdlist1">use_case_name [<strong>str</strong>]</dt>
<dd>
<p>Custom name given to the use case. Serves as an ID of the use case, must be unique across use cases.</p>
</dd>
<dt class="hdlist1">timeout [<strong>str</strong>]</dt>
<dd>
<p>Job execution timeout, starting when the job is launched (and not pending). Format: days-hours:minutes:seconds
This field is notably important so that HPC resources are not wasted unnecessarily.
For example, for a 10 minutes timer: <code>0-00:10:00</code></p>
</dd>
<dt class="hdlist1">env_variables [<strong>Dict[str,str]</strong>]</dt>
<dd>
<p>key:value pairs for benchmark related environment variables. These variables will be set after the <em>init</em> phase of ReFrame tests.</p>
</dd>
<dt class="hdlist1">options [<strong>List[str]</strong>]</dt>
<dd>
<p>List of application&#8217;s options. Input arguments can be parameterized in here.
For example,
<code>[ "--number-of-elements={{parameters.elements.value}}", "--number-of-points={{parameters.points.value}}", "--verbose" ]</code></p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources"><a class="anchor" href="#_resources"></a>2. Resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The resources field is used for specifying the computing resources that each test will use. Users can specify a combination of <code>tasks</code>, <code>tasks_per_node</code>, <code>gpus_per_node</code>, <code>nodes</code>, <code>memory</code> and <code>exclusive_access</code>.
However, only certain combinations are supported, and at least one must be provided.
The resource fields are meant to be parameterized, so that the application scaling can be analyzed, but this is completely optional.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>At the moment, multithreading is not supported. The number of tasks per cpu is set to 1.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">tasks [<strong>int</strong>]</dt>
<dd>
<p>Total number of tasks to launch the test with.</p>
</dd>
<dt class="hdlist1">tasks_per_node [<strong>int</strong>]</dt>
<dd>
<p>Number of tasks per node to use. Must be specified along <code>nodes</code> OR <code>tasks</code>.
If this number cannot be greater than ReFrame&#8217;s <code>systems.partitions.processor.num_cpus</code> configuration value.</p>
</dd>
<dt class="hdlist1">nodes [<strong>int</strong>]</dt>
<dd>
<p>Number of nodes to launch the tests on.</p>
</dd>
<dt class="hdlist1">gpus_per_node [<strong>int</strong>] (Optional)</dt>
<dd>
<p>Number of GPUs per node to use.
Defaults to None. The test will not be launched on any gpu.</p>
</dd>
<dt class="hdlist1">memory [<strong>int</strong>] (Optional)</dt>
<dd>
<p>Total memory used by the test, in Gb.
If this field is provided, the number of tasks per node and number of nodes will be recalculated so that the application will have enough memory to run.</p>
<div class="literalblock">
<div class="content">
<pre>If using custom ReFrame configuration files, users must ensure that the `extras.memory_per_node` field is present on the ReFrame configuration file.</pre>
</div>
</div>
</dd>
<dt class="hdlist1">exclusive_access [<strong>bool</strong>] (Optional)</dt>
<dd>
<p>If true, the scheduler will reserve the totality of the nodes where tests will run.
Defaults to <code>true</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Valid combinations are the following:
- <code>tasks</code> and <code>tasks_per_node</code>
- <code>nodes</code> and <code>tasks_per_node</code>
- Only <code>tasks</code></p>
</div>
<div class="paragraph">
<p>Other fields can be specified along these combinations as needed.</p>
</div>
<div class="sect2">
<h3 id="_examples"><a class="anchor" href="#_examples"></a>2.1. Examples</h3>
<div class="sect3">
<h4 id="_non_parameterized_resources_field"><a class="anchor" href="#_non_parameterized_resources_field"></a>2.1.1. Non-parameterized resources field</h4>
<div class="ulist">
<ul>
<li>
<p>Tasks and tasks per node</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"resources":{
    "tasks": 256,
    "tasks_per_node":128,
    "exclussive_access":true
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration will run ALL tests on 2 nodes (reserved exlusively), using 128 task per node. If <code>systems.partitions.processor.num_cpus</code> configuration field is inferior to 128, an error will be raised before submitting the test job.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Memory</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Concerning memory, let&#8217;s suppose that our system has 256Gb of RAM per node, and that our application requires a total of 1000Gb of memory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"resources":{
    "tasks": 256,
    "tasks_per_node":128,
    "exclussive_access":true,
    "memory":1000
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This means that in order for the application to run, it needs at least 4 nodes.
As we specified that we want to run on 256 tasks, and we need at least 4 nodes, the number of tasks per node cannot be greater than 64. The final number of tasks per node will be recomputed as the minimum between the requested number of tasks per node, and 64.
In this case, all tests will run on 4 nodes, using 64 tasks per node.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameterized_resources_field"><a class="anchor" href="#_parameterized_resources_field"></a>2.1.2. Parameterized resources field</h4>
<div class="paragraph">
<p>Suppose that the following parameters are defined:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"parameters":[
    {
        "name":"resources",
        "sequence":[
            { "tasks":128, "tasks_per_node":32 },
            { "tasks":128, "tasks_per_node":64 },
            { "tasks":128, "tasks_per_node":128 },
            { "tasks":256, "tasks_per_node":128 }
        ]
    }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>We would need to define the resources field like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"resources":{
    "tasks":"{{parameters.resources.tasks.value}}",
    "tasks_per_node":"{{parameters.resources.tasks_per_node.value}}",
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration will execute one test for each one of the combinations below:
- 4 nodes, 32 tasks per node (total of 128 tasks)
- 2 nodes, 64 tasks per node (total of 128 tasks)
- 1 node, 128 tasks per node (total of 128 tasks)
- 2 nodes, 128 tasks per node (total of 256 tasks)</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_platforms"><a class="anchor" href="#_platforms"></a>3. Platforms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>platforms</code> object lists all options and directories related to the benchmark execution for each supported platform. A platform present on this object does not imply that it will be benchmarked, but it rather lists all possible options.
The actual platform where tests will run is defined by either the <code>access</code> field of the machine configuration, or the <code>platform</code> field.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">input_dir [<strong>str</strong>]</dt>
<dd>
<p>Indicates the directory path where input files can be found, INSIDE the given platform. For the built-in platform, it corresponds to where input files can be found on the system.</p>
</dd>
<dt class="hdlist1">append_app_options [<strong>List[str</strong>]] (Optional)</dt>
<dd>
<p>Describes the options to pass to the application. It is equivalent to the <code>options</code> field on the configuration root. However, it is used for having different application options depending on the platform.</p>
</dd>
<dt class="hdlist1">options [<strong>List[str]</strong>] (Optional)</dt>
<dd>
<p>Describes the options to pass to the platform launcher.
For example, <code>"options":["--bind a:b"]</code> will be interpreted, for the apptainer platform, as <code>apptainer exec --bind a:b your_image.sif your_application.exe &#8230;&#8203;</code></p>
</dd>
<dt class="hdlist1">image [<strong>Dict[str,str]</strong>] (Conditional)</dt>
<dd>
<p>Contains information related to the container image.
For any platform other than built-in, the <code>image</code> field must be specified</p>
<div class="dlist">
<dl>
<dt class="hdlist1">-filepath [<strong>str</strong>]</dt>
<dd>
<p>Filepath containing the location of the container image.
If provided along the <code>url</code> field, the image will be pulled and placed here before tests are executed, otherwise the framework will assume that the image exists on the given filepath.</p>
</dd>
<dt class="hdlist1">-url [<strong>str</strong>] (Optional)</dt>
<dd>
<p>URL to pull the image from.
If this field is specified, <code>feelpp.benchmarking</code> will pull the image and place it under the <code>filepath</code> field.
If this field is not provided, the framework will assume that the image exists under <code>filepath</code>.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>platforms</code> field is optional, if not provided, the builtin platform will be considered.
The syntax for builtin platform is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"platforms": {
    "builtin":{
        "input_dir":"",
        "append_app_options":[]
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following shows an example how to configure the Apptainer platform:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"platforms":{
    "apptainer":{
        "input_dir":"/input_data/",
        "options":["--bind /data/custom_data/:{{platforms.apptainer.input_dir}}"],
        "append_app_options":["--my_custom_option_for_apptainer"],
        "image":{
            "filepath":"/data/images/my_image.sif",
            "url":"oras://ghcr.io/your-image.sif"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, <code>input_dir</code> represents the directory where input files will be found INSIDE the container. If there is no input data present in the container, you might need to bind a local input data directory to it, using <code>options</code></p>
</div>
<div class="paragraph">
<p>The <code>options</code> field contains a list of all the options to include on the container execution. It is equivalent to the machine&#8217;s <code>containers.apptainer.options</code> field. However, users should only include benchmark dependent options in this list.</p>
</div>
<div class="paragraph">
<p>Note that the placeholder syntax is used to tell to the container to bind a directory to the one specified in <code>Ã¬nput_dir</code>.</p>
</div>
<div class="paragraph">
<p>The <code>append_app_options</code> lists all the options to add to the application execution. It does the same as the <code>options</code> field in the root of the file, but can be used for case handling.</p>
</div>
<div class="paragraph">
<p>The image field indicates that the image should be pulled from oras://ghcr.io/your-image.sif and placed in <em>/data/images/my_image.sif</em>.</p>
</div>
<div class="paragraph">
<p>To summarize, <code>feelpp.benchmarking</code> will first execute (even before ReFrame is launched):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">apptainer pull -F /data/images/my_image.sif oras://ghcr.io/your-image.sif</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then, ReFrame will submit a job executing (for local scheduler):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">apptainer exec --bind /data/custom_data/:/input_data/ /data/images/my_image.sif --my_custom_option_for_apptainer</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For the <code>filepath</code> field, it is very useful to make use of the <code>{{machine.containers.apptainer.image_base_dir}}</code> field from the machine configuration.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scalability"><a class="anchor" href="#_scalability"></a>4. Scalability</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lists all the files where performance variables can be found.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">directory [<strong>str</strong>]</dt>
<dd>
<p>Common directory where files containing performance variables can be found.</p>
</dd>
<dt class="hdlist1">clean_directory [<strong>bool</strong>] (Optional)</dt>
<dd>
<p>If true, it will delete the contents of inside <code>directory</code>.
Defaults to false.</p>
</dd>
<dt class="hdlist1">stages [<strong>List[Stage]</strong>]</dt>
<dd>
<p>Describes the files containing performance variables, and how to extract them.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">-name [<strong>str</strong>]</dt>
<dd>
<p>Name to describe the stage. It is used as prefix to add to the performance variables found in the file.
If no prefix is needed, the name can be "".</p>
</dd>
<dt class="hdlist1">-filepath [<strong>str</strong>]</dt>
<dd>
<p>Relative filepath of the file containing performance variables, relative to the <code>directory</code> field.</p>
</dd>
<dt class="hdlist1">-format [<strong>str</strong>]</dt>
<dd>
<p>Format of the stage file.
Supported values are "csv" and "json".</p>
</dd>
<dt class="hdlist1">-units [<strong>Dict[str,str]</strong>] (Optional)</dt>
<dd>
<p>Custom units for certain performance variables.
key:value pairs correspond to performance-variable:unit.
For example, <code>"my-variable":"m/s"</code> implies that the variable will have "my-variable" has "m/s" as unit.
By default, all columns have "s" as unit. To change the default behavior, users need to pass the <code>"*":"custom-unit"</code> key:value pair.
This will associate the "custom-unit" to ALL performance variables inside the file, excepting other units specified inside this object.</p>
</dd>
<dt class="hdlist1">-variables_path [<strong>str, List[str]</strong>]</dt>
<dd>
<p>Only valid if format is "json".
Defines where, in the JSON hierrarchy, performance variables will be found. Supports the use of one or multiple wildcards (<code>*</code>).</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">custom_variables [<strong>List[Dict[str,str]]</strong>] (Optional)</dt>
<dd>
<p>Contains a list of objects describing custom performance variables to create, based on extracted ones (from stages). An aggregation will be performed using provided columns and valid operations.
For more information, see  the <a href="../advancedConfiguration.html" class="xref page">advanced Configuration</a></p>
<div class="dlist">
<dl>
<dt class="hdlist1">-name [<strong>str</strong>]</dt>
<dd>
<p>The name to give to the custom performance variable.</p>
</dd>
<dt class="hdlist1">-columns [<strong>List[str]</strong>]</dt>
<dd>
<p>List of columns to aggregate, accepts both variables existing in the performance files, as well as other custom variables.</p>
</dd>
<dt class="hdlist1">-op [<strong>str</strong>]</dt>
<dd>
<p>The aggregation operation to apply to the performance columns to create the custom one.
Valid operations are "sum","min","max","mean".</p>
</dd>
<dt class="hdlist1">-unit [<strong>str</strong>]</dt>
<dd>
<p>The unit to assign to the created performance variable.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Recursive creation of custom_variables is supported!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Deeply nested and complex JSON scalability files are supported, using multiple wildcard syntax!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_2"><a class="anchor" href="#_examples_2"></a>4.1. Examples</h3>
<div class="paragraph">
<p>Let&#8217;s assume our application exports the following files:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>{{instance}}</code> keyword on the export implies that each test exports this files on its own directory, using the test&#8217;s hashcode.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>/data/outputs/{{instance}}/exports.csv</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-csv hljs" data-lang="csv">a,b,c
1,2,3</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>/data/outputs/{{instance}}/logs/timers.json</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "function1":{
        "constructor":1.0,
        "init":0.1,
    },
    "function2":{
        "constructor":1.0,
        "init":0.1,
    },
    "execution":{
        "step1":0.5,
        "step2":0.7,
        "step3":1.0,
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>An example of the scalability field to extract values on these files is found and explained below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"scalability": {
    "directory": "/data/outputs/{{instance}}/",
    "stages": [
        {
            "name":"myExports",
            "filepath": "export.csv",
            "format": "csv",
            "units":{ "*":"meters", "a":"kg" }
        },
        {
            "name":"myTimers",
            "filepath": "logs/timers.json",
            "format": "json",
            "variables_path":"*"
        }
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The common directory path of these exports is <em>/data/outputs/{{instance}}</em>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s analyse the first stage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name":"myExports",
    "filepath": "export.csv",
    "format": "csv",
    "units":{ "*":"meters", "a":"kg" }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The name <code>myExports</code> means that performance variables from this file will appear in the exported report (and available for plotting) as <code>myExports_a:1</code>, <code>myExports_b:2</code>, <code>myExports_c:3</code>.</p>
</div>
<div class="paragraph">
<p>Concerning the units, <code>"*":"meters"</code> means that all of the variables in this CSV should have the "meters" unit. However, by specifying <code>"a":"kg"</code> we indicates that all columns should be "meters", except <code>a</code> who should have "kg" as unit.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s now consider the second stage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name":"myTimers",
    "filepath": "logs/timers.json",
    "format": "json",
    "variables_path":"*"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Performance variables on this file will be prefixed by "myTimers_".</p>
</div>
<div class="paragraph">
<p>As the <code>units</code> field is not specified, all variables will have the default ('s') unit.</p>
</div>
<div class="paragraph">
<p>Having only <code>*</code> as variables_path, means that all variables should be exported into the performance report.
Variables will be exported as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>myTimers_function1.constructor : 1.0</p>
</li>
<li>
<p>myTimers_function1.init : 0.1</p>
</li>
<li>
<p>myTimers_function2.constructor : 1.0</p>
</li>
<li>
<p>myTimers_function2.init : 0.1</p>
</li>
<li>
<p>myTimers_execution.step1 : 0.5</p>
</li>
<li>
<p>myTimers_execution.step2 : 0.7</p>
</li>
<li>
<p>myTimers_execution.step3 : 1.0</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_filtering_with_variables_path"><a class="anchor" href="#_filtering_with_variables_path"></a>4.1.1. Filtering with <code>variables_path</code></h4>
<div class="ulist">
<ul>
<li>
<p><code>"variables_path":"function1.*"</code>:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Exported performance variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>myTimers_constructor : 1.0</p>
</li>
<li>
<p>myTimers_init : 0.1</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using the wildcards removes the part of the json that is not variable.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"variables_path":"exectution.step1"</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Exported performance variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>myTimers_step1 : 0.5</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If a full path is passed, the variable name corresponds to the key of the leaf  element of the JSON.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>variables_path</code> can be a list.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_files"><a class="anchor" href="#_additional_files"></a>5. Additional Files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This field allows the export of custom files, as well as use case descriptions and logs. It is optional.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">description_filepath [<strong>str</strong>] (Optional)</dt>
<dd>
<p>Filepath of a file to be used as benchmark description.
This file will be copied to the same directory of the performance report, named description.adoc, after all ReFrame tests are completed (successfully or not).
This file will automatically appear in the website for the current report, treated as an Antora partial.</p>
</dd>
<dt class="hdlist1">parameterized_descriptions_filepath [<strong>str</strong>] (Optional)</dt>
<dd>
<p>Parameterized filepath (using either <code>{{instance}}</code> or <code>{{parameters.MY_PARAM.value}}</code>) of a file generated by a test.
This file will be copied right after a test finishes (only if successful).
The copied file will be located in a <em>partials</em> directory, under the current exported report directory. It will be named after the tests hashcode.
These files will automatically appear in the website, inside the parameter table of  the current report, and are treated as Antora partials.</p>
</dd>
<dt class="hdlist1">custom_logs [<strong>List[str]</strong>] (Optional)</dt>
<dd>
<p>List of parameter depdendent filepaths of logs to be included in the website.</p>
</dd>
</dl>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Currently, it is imposed for <code>description</code> and <code>parameterized_description</code> files to be in AsciiDoc format.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_3"><a class="anchor" href="#_examples_3"></a>5.1. Examples</h3>
<div class="paragraph">
<p>Let&#8217;s suppose that our benchmarked application produces an <em>information.adoc</em> file each time it runs. And that we have a use case description named <em>description.adoc</em>. Also, let&#8217;s assume that our app logs some information under <em>logs/log.INFO</em> and under <em>logs/log.WARNING</em> each time it runs.</p>
</div>
<div class="paragraph">
<p>If we have set our application to write its outputs under <em>/data/outputs/{{instance}}</em>. Then our <code>additional_files</code> field will look like this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"additional_files":{
    "description_filepath":"/data/outputs/description.adoc",
    "parameterized_descriptions_filepath":"/data/outputs/{{instance}}/information.adoc",
    "custom_logs":[
        "/data/outputs/{{instance}}/logs/log.INFO",
        "/data/outputs/{{instance}}/logs/log.WARNING"
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>All these files will automatically appear on the website&#8217;s report page.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sanity"><a class="anchor" href="#_sanity"></a>6. Sanity</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>sanity</code> field is used to validate the application execution.</p>
</div>
<div class="paragraph">
<p>The syntax is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"sanity":{
    "success":[],
    "error":[]
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>success</code> field contains a list of patterns to look for in the standard output. If any of the patterns are not found, the test will fail.</p>
</li>
<li>
<p>The <code>error</code> field contains a list of patters that will make the test fail if found in the standard output. If any of these paterns are found, the test will fail.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>At the moment, only validating standard output is supported. It will soon be possible to specify custom log files.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_examples_4"><a class="anchor" href="#_examples_4"></a>6.1. Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"sanity": {
    "success": ["[SUCCESS]"],
    "error": ["[OOPSIE]","Error"]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will check if "[SUCCESS]" is found on the application&#8217;s standard output. If not, the test will failt.</p>
</div>
<div class="paragraph">
<p>It will also check that neither "[OOPSIE]" nor "Error" appear in the standard output.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Regex patterns are supported.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_parameters"><a class="anchor" href="#_parameters"></a>7. Parameters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>parameters</code> field list all parameters to be used in the test.
The cartesian product of the elements in this list will determine the benchmarks to be executed.</p>
</div>
<div class="paragraph">
<p>Parameters are accessible across the whole configuration file by using the syntax <code>{{parameters.my_parameter.value}}</code>.</p>
</div>
<div class="paragraph">
<p>Each parameter is described by a name and a generator.</p>
</div>
<div class="paragraph">
<p>Valid generators are :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>linspace</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "my_linspace_generator",
    "linspace":{
        "min":2,
        "max":10,
        "n_steps":5
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example will yield <code>[2,4,6,8,10]</code>. Min and max are inclusive.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>geomspace</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "my_geomspace_generator",
    "geomspace":{
        "min":1,
        "max":10,
        "n_steps":4
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example will yield <code>[2,16,128,1024]</code>. Min and max are inclusive.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>range</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "my_range_generator",
    "range":{
        "min":1,
        "max":5,
        "step":1
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example will yield <code>[1,2,3,4,5]</code>. Min and max are inclusive.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>geometric</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "my_geometric_generator",
    "geometric":{
        "start":1,
        "ratio":2,
        "n_steps":5
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example will yield <code>[1,2,4,8,16]</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>repeat</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "my_repeat_generator",
    "repeat":{
        "value":"a repeated value",
        "count":3
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example will yield <code>["a repeated value", "a repeated value", "a repeated value"]</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sequence</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "my_sequence_generator",
    "sequence":[ 1, 2, 3, 4]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sequence is the simplest generator. It will yield exactly the given list.
It accepts dictionnaries as items, which can then be accessed via the <code>.</code> separator.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>zip</code> and subparameters:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Parameters can contain subparameters, which can be accessed recursively via the <code>.</code> separator. Its objective is to have parameters that depend on eachother, without producing a cartesian product.
Aditionnaly, parameters can be zipped together via the <code>zip</code> generator.
The <code>zip</code> generator takes a list of parameters to produce a list of python dictionaries. Each param inside the list can then have any desired generator from above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "my_zip_generator",
    "zip":[
        {
            "name":"param1",
            "sequence":[
                {"val1":1,"val2":2},
                {"val1":3,"val2":4},
                {"val1":5,"val2":6}
            ]
        },
        {
            "name":"param2",
            "repeat":{
                "value":"a repeated value",
                "count":3
            }
        }
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example will yield <code>[{'param1': {'val1': 1, 'val2': 2}, 'param2': 'a repeated value'}, {'param1': {'val1': 3, 'val2': 4}, 'param2': 'a repeated value'}, {'param1': {'val1': 5, 'val2': 6}, 'param2': 'a repeated value'}]</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Zipped parameters need to have the same lenght.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Parameter filtering is supported, visit the <a href="../advancedConfiguration.html" class="xref page">Advanced Configuration</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>More advanced features are available (<a href="../advancedConfiguration.html" class="xref page">Advanced Configuration</a>)such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Downloading remote data</p>
</li>
<li>
<p>Copying input file between disks</p>
</li>
<li>
<p>Pruning the parameter space</p>
</li>
<li>
<p>Specifying custom performance variables</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer" style="border-top: 2px solid #e9e9e9; background-color: #fafafa; padding-bottom: 2em; padding-top: 2em;">
    <div class="container" style="display: flex; flex-direction: column; align-items: center; gap: 0.5em;">
        <div>
            <a href="https://www.cemosis.fr">
                <img src="../../../_/img/cemosis-logo.svg" alt="Cemosis logo" height="50">
            </a>
        </div>
        <span style="font-size: 0.8rem; color: #9e9e9e">Â© 2025 <a href="https://www.cemosis.fr" style="text-decoration: underline;">Cemosis</a>, UniversitÃ© de Strasbourg</span>
    </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="../../../_/js/figure-helper.js"></script>
<script src="../../../_/js/table-filter-sort.js"></script>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>


<!-- Font Awesome JS removed to use webfont icons only -->
<script async src="../../../_/js/vendor/highlight.js"></script>

<script src="../../../_/js/vendor/lunr.js"></script>

<script type="text/javascript">
function toggleFullScreen() {
   var doc = window.document;
   var docEl = doc.documentElement;

   var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;
   var cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;

   if(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {
       requestFullScreen.call(docEl);
   }
   else {
       cancelFullScreen.call(doc);
   }
}
</script>
  </body>
</html>
