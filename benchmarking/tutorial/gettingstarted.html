<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting started :: Benchmarking</title>
    <link rel="canonical" href="https://feelpp.github.io/benchmarking/benchmarking/tutorial/gettingstarted.html">
    <meta name="generator" content="Antora 3.1.14">
<link rel="stylesheet" href="../../_/css/site.css">

<!-- Font Awesome webfont CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
<script>!function(l,p){if(l.protocol!==p&&l.host=="docs.antora.org"){l.protocol=p}else if(/\.gitlab\.io$/.test(l.host)){l.replace(p+"//docs.antora.org"+l.pathname.substr(l.pathname.indexOf("/",1))+l.search+l.hash)}}(location,"https:")</script>

<script src="../../_/js/vendor/tabs-block-extension.js"></script>
<script src="../../_/js/vendor/tabs-block-behavior.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },

  TeX: {
      Macros: {
      bold: ["{\\bf #1}",1],
      calTh: "{\\mathcal{T}_h}",
      card: ["{\\operatorname{card}(#1)}",1],
      card: ["{\\operatorname{card}(#1)}",1],
      Ck: ["{\\mathcal{C}^{#1}}",1],
      deformt: ["{\\mathbf{\\varepsilon(#1)}}",1],
      diam: "{\\operatorname{diam}}",
      dim: ["{\\operatorname{dim}(#1)}",1],
      disp: ["{\\mathbf{#1}}",1],
      domain: "{\\Omega}",
      ds: "",
      essinf: "{\\operatorname{ess}\\, \\operatorname{inf}}",
      F:"{\\mathcal{F}}",
      geo: "{\\mathrm{geo}}",
      Ich: ["{\\mathcal{I}^{#1}_{c,h}#2}",2],
      Id: "{\\mathcal{I}}",
      Ilag: ["{\\mathcal{I}^{\\mathrm{lag}}_{#1}}",1],
      jump: ["{[\\![ #1 ]\\!]}",1],
      n:"{\\mathbf{n}}",
      Ne: "{N_{\\mathrm{e}}}",
      Next: "{\\mathrm{n}}",
      nf: "{n_f}",
      ngeo: "{n_{\\mathrm{geo}}}",
      Nma: "{N_{\\mathrm{ma}}}",
      NN: "{\\mathbb N}",
      Nno: "{N_{\\mathrm{no}}}",
      Nso: "{N_{\\mathrm{so}}}",
      opdim: "{\\operatorname{dim}}",
      p: "{\\mathrm{p}}",
      P:"{\\mathcal{P}}",
      Pch: ["{P^{#1}_{c,h}}",1],
      Pcho: ["{P^{#1}_{c,h,0}}",1],
      Pk: ["{\\mathcal{P}^{#1}}",1],
      poly: ["{\\mathbb{#1}",1],
      poly: ["{\\mathbb{#1}}",1],
      prect: ["{\\left\\(#1\\right\\)}",1],
      q:"{\\mathbf{q}}",
      Qch: ["{Q^{#1}_{c,h}}",1],
      Qk: ["{\\mathcal{Q}^{#1}}",1],
      R: ["{\\mathbb{R}^{#1}}",1],
      RR: "{\\mathbb R}",
      set: ["{\\left\\{#1\\right\\}}",1],
      stresst: ["{\\mathbf{\\sigma(#1)}}",1],
      T:"{\\mathcal{T}}",
      tr: "{\\operatorname{tr}}",
      v:"{\\mathbf{v}}",
      vertiii: ["\\left\\vert\\kern-0.25ex\\left\\vert\\kern-0.25ex\\left\\vert #1 \\right\\vert\\kern-0.25ex\\right\\vert\\kern-0.25ex\\right\\vert",1]
  },
  extensions: ["mhchem.js"] 
  }
});
</script>
<!--<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML"></script>-->
<!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script> -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_CHTML'></script>
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>-->

<!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" integrity="sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js" integrity="sha384-jmxIlussZWB7qCuB+PgKG1uLjjxbVVIayPJwi6cG6Zb4YKq0JIw+OMnkkEC7kYCq" crossorigin="anonymous"></script>-->
<script>var uiRootPath = '../../_'</script>

  </head>
  <body class="article">
<link rel="stylesheet" href="../../_/css/figures.css">
<link rel="stylesheet" href="../../_/css/table.css">

<header class="header">
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark navbar-template-project" style="border-top: 4px solid #9E9E9E">
        <div class="navbar-brand">
            <div class="navbar-item feelpp-logo">
                <a href="https://feelpp.github.io/benchmarking">Benchmarking</a>
            </div>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <div class="navbar-item">
                    <a href="https://docs.feelpp.org/">Documentation Reference</a>
                </div>
                <div class="navbar-item has-dropdown is-hoverable download-item">
                    <div class="navbar-item"><a href="https://docs.feelpp.org/user/latest/install/index.html" class="download-btn">Get Feel++</a></div>
                </div>
                <div class="navbar-item">
                    <a class="navbar-brand"  href="https://www.cemosis.fr">
                        <img class="cemosis-logo"  src="../../_/img/cemosis-logo.svg" alt="Cemosis logo"/>
                    </a>
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<a href="#" class="menu-expand-toggle"></a>
<div class="nav-container" data-component="benchmarking" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">The Feel++ Benchmarking Project</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Benchmarks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Documentation</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="gettingstarted.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="configuration.html">Configuration Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configurationfiles/system.html">System Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configurationfiles/magicstrings.html">Magic Strings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configurationfiles/machine.html">Machine Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configurationfiles/benchmark.html">Benchmark Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configurationfiles/plots.html">Plots Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../training/index.html">Training</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../training/reframe/index.html">Introduction to <em>feelpp.benchmarking</em></a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/reframe/introduction.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/reframe/settings.html">System Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/reframe/machine_specs.html">Machine Specifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/reframe/example_app.html">Example Application</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/reframe/benchmark_specs.html">Benchmark Specifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/reframe/plot_specs.html">Plot Specifications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/reframe/executing.html">Executing the Benchmark</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../training/reframe/handsOn/index.html">Hands-on session 1</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/reframe/handsOn/exercise1.html">Exercise 1</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/reframe/handsOn/exercise2.html">Exercise 2</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../training/advanced/index.html">Advanced Usage of <em>feelpp.benchmarking</em></a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/advanced/containers.html">Configuring Containers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/advanced/remote_files.html">Handling Remote Files</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/advanced/file_dependencies.html">Handling File Dependencies</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/advanced/custom_perfvars.html">Custom Performance Variables</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/advanced/memory.html">Memory Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/advanced/visualization.html">Visualization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../training/advanced/workflow.html">Continuous Benchmarking Workflow</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../training/advanced/handsOn/index.html">Hands-on session 2</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../json_report/index.html">Json Report Renderer</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json_report/json_schema/report_schema.html#_report_structure">Json Report Structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json_report/json_schema/report_schema.html#_including_data">Including Data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json_report/json_schema/report_schema.html#_section_node">Adding a section</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json_report/json_schema/report_schema.html#_text_node">Adding text</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json_report/json_schema/report_schema.html#_latex_node">Adding latex</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json_report/json_schema/report_schema.html#_list_node">Using lists</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json_report/json_schema/report_schema.html#_image_node">Images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json_report/json_schema/report_schema.html#_table_node">Tables</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../json_report/json_schema/report_schema.html#_plot_node">Figures</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../dashboard_renderer/index.html">Catalog Dashboard Renderer</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">The Feel++ Benchmarking Project</span>
    <span class="version"></span>
  </div>
  <ul class="components">
      <li class="component is-current">
        <a class="title" href="../index.html">The Feel++ Benchmarking Project</a>
      </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
    <a href="../index.html" class="home-link"></a>
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">The Feel++ Benchmarking Project</a></li>
    <li><a href="index.html">Documentation</a></li>
    <li><a href="gettingstarted.html">Getting Started</a></li>
  </ul>
</nav>

  
    <div class="edit-this-page"><a href="https://github.com/feelpp/benchmarking/edit/master/docs/modules/tutorial/pages/gettingstarted.adoc">Edit this Page</a></div>
  
  <div class="page-downloads">
  <span class="label">Download as</span>
  <ul class="download-options">
    <li>
      <a onclick="print(this)" href="#" data-toggle="tooltip" data-placement="left" title="Print to PDF"
         class="pdf-download">
        <img class="pdf-file-icon icon" src="../../_/img/pdf.svg"/> .pdf
      </a>
    </li>
  </ul>
</div>
</div>

  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Getting started</h1>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>1. Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_using_pypi"><a class="anchor" href="#_using_pypi"></a>1.1. Using PyPi</h3>
<div class="ulist">
<ul>
<li>
<p>Use a python virtual environment (Optional)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">python3 -m venv .venv
source .venv/bin/activate</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Install the package</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pip install feelpp-benchmarking</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_git"><a class="anchor" href="#_using_git"></a>1.2. Using Git</h3>
<div class="ulist">
<ul>
<li>
<p>Clone the repository</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/feelpp/benchmarking.git</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Use a python virtual environment (Optional)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">python3 -m venv .venv
source .venv/bin/activate</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Install the project and dependencies</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">python3 -m pip install .</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>2. Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to generate the benchmark reports website, Antora must be configured beforehand, along with the necessary extensions. More information can be found in <a href="https://docs.antora.org/antora/latest/install-and-run-quickstart/">Antora Documentation</a></p>
</div>
<div class="paragraph">
<p>Make sure you have <a href="http://nodejs.org/en/download">Node.js</a> installed.</p>
</div>
<div class="paragraph">
<p>To initialize the Antora environment, run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">feelpp-antora init -d &lt;BASE-DIRECTORY&gt; -t &lt;YOUR-PROJECT-TITLE&gt; -n &lt;YOUR-PROJECT-NAME&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The project title will be shown on the webpage, but the project name serves as an ID for your project.</p>
</li>
<li>
<p>The project name must not contain spaces or any special character (only underscore is supported).</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The previous script will do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Initialize a git repository in &lt;BASE-DIRECTORY&gt; if it is not already one.</p>
</li>
<li>
<p>Copy and install a <code>packages.json</code> file containing necessary dependencies.</p>
</li>
<li>
<p>Create the <code>&lt;BASE-DIRECTORY&gt;/docs/modules/ROOT/</code> directories where rendered files will be located.</p>
</li>
<li>
<p>Create an antora component version descriptor and an antora playbook using &lt;YOUR-PROJECT-TITLE&gt; and &lt;YOUR-PROJECT-NAME&gt;</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quickstart"><a class="anchor" href="#_quickstart"></a>3. Quickstart</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For detailed documentation, refer to our <a href="https://bench.feelpp.org/benchmarking/tutorial/index.html">docs</a>.</p>
</div>
<div class="sect2">
<h3 id="_the_benchmarked_application"><a class="anchor" href="#_the_benchmarked_application"></a>3.1. The benchmarked application</h3>
<div class="paragraph">
<p>The framwork includes a sample C++/MPI application that can be used to get familiar with the framework&#8217;s core concepts. It can be found under <em>examples/parallelsum/parallelSum.cpp</em>, or you can download it here : <a href="https://github.com/feelpp/benchmarking/blob/master/examples/parallelsum/parallelSum.cpp">parallelSum.cpp</a></p>
</div>
<div class="paragraph">
<p>This Feel++ Benchmarking "Hello World" application will compute the sum of an array distributed across multiple MPI processes. Each process will compute a partial sum, and then it will be summed to get the total sum.</p>
</div>
<div class="paragraph">
<p>Additionally, the app will measure the time taken to perform the partial sum, and will save it under a <em>scalability.json</em> file.</p>
</div>
<div class="paragraph">
<p>You can update the sample application and recompile it for a specific config as needed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mpic++ -std=c++17 -o examples/parallelsum/parallelSum examples/parallelsum/parallelSum.cpp</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_machine_configuration_files"><a class="anchor" href="#_machine_configuration_files"></a>3.2. Machine configuration files</h3>
<div class="paragraph">
<p>The framework also contains a default system configuration, located under <em>examples/machines/default.json</em> corresponding to the file _examples/machines/default.py, that looks like this :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
   //will use the `default` ReFrame configuration file
   "machine": "default",

   //will run on the default partition, using the built-in (or local) platform and the default env
   "targets":["default:builtin:default"],

   //Tests will run asynchronously (up to 4 jobs at a time)
   "execution_policy": "async",

   // ReFrame's stage and output directories will be located under _./build/reframe/_
   "reframe_base_dir":"./build/reframe",

   // The generated JSON report will be created under _./reports/_
   "reports_base_dir":"./reports/",

   // The base directory where the executable is located
   "input_dataset_base_dir":"$PWD",

   //The C++ app outputs will be stored under the current working directory (./)
   "output_app_dir":"$PWD"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can download this configuration file here <a href="https://github.com/feelpp/benchmarking/blob/master/examples/machines/default.json">default.json</a>.</p>
</div>
<div class="paragraph">
<p>The framework also contains a very basic sample ReFrame configuration file, under <em>examples/machines/default.py</em>. <a href="https://github.com/feelpp/benchmarking/blob/master/examples/machines/default.py">default.py</a></p>
</div>
<div class="paragraph">
<p>This file will cause the tool to use a local scheduler and the <code>mpiexec</code> launcher with no options. For more advanced configurations, refer to <a href="https://reframe-hpc.readthedocs.io/en/stable/config_reference.html#">ReFrame&#8217;s configuration reference</a></p>
</div>
<div class="paragraph">
<p>More information on <em>feelpp.benchmarking</em> machine configuration files can be found on the documentation <a href="https://bench.feelpp.org/benchmarking/tutorial/configuration.html#_machine_configuration">Machine configuration</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_benchmark_configuration_files"><a class="anchor" href="#_benchmark_configuration_files"></a>3.3. Benchmark configuration files</h3>
<div class="paragraph">
<p>Along with machine configuration files, users must provide the specifications of the benchmark. A sample file is provided under <em>examples/parallelsum/parallelSum.json</em>. <a href="https://github.com/feelpp/benchmarking/blob/master/examples/parallelsum/parallelSum.json">parallelSum.json</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
   //Executable path (Change the location to the actual executable)
   "executable": "{{machine.input_dataset_base_dir}}/examples/parallelsum/parallelSum",
   "use_case_name": "parallel_sum",
   "timeout":"0-0:5:0",
   "output_directory": "{{machine.output_app_dir}}/examples/parallelsum/outputs/parallelSum",

   //Application options
   "options": [ "{{parameters.elements.value}}", "{{output_directory}}/{{instance}}" ],

   //Files containing execution times
   "scalability": {
      "directory": "{{output_directory}}/{{instance}}/",
      "stages": [
         {
            "name":"",
            "filepath": "scalability.json",
            "format": "json",
            "variables_path":"*"
         }
      ]
   },

   // Resources for the test
   "resources":{
      "tasks":"{{parameters.tasks.value}}"
   },

   // Files containing app outputs
   "outputs": [
      {
         "filepath":"{{output_directory}}/{{instance}}/outputs.csv",
         "format":"csv"
      }
   ],

   // Test validation (Only stdout supported at the moment)
   "sanity": { "success": ["[SUCCESS]"], "error": ["[OOPSIE]","Error"] },

   // Test parameters
   "parameters": [
      {
         "name": "tasks",
         "sequence": [1,2,4]
      },
      {
         "name":"elements",
         "linspace":{ "min":100000000, "max":1000000000, "n_steps":4 }
      }
   ]
}</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Remember to modify the <code>executable</code> path as well as <code>output_directory</code> if installing via pip.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>More information about <em>feelpp.benchmarking</em> benchmark specifications can be found <a href="https://bench.feelpp.org/benchmarking/tutorial/configuration.html#_benchmark_configuration">here</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_plots_configuration"><a class="anchor" href="#_plots_configuration"></a>3.4. Plots configuration</h3>
<div class="paragraph">
<p>Along with the benchmark configuration, a figure configuration file is provided <em>examples/parallelsum/plots.json</em> Download it here <a href="https://github.com/feelpp/benchmarking/blob/master/examples/parallelsum/plots.json">plots.json</a>.</p>
</div>
<div class="paragraph">
<p>An example of one figure specification is shown below. Users can add as many figures as they wish, corresponding the figure axis with the parameters used on the benchmark.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
   "title": "Absolute performance",
   "plot_types": [ "stacked_bar", "grouped_bar" ],
   "transformation": "performance",
   "variables": [ "computation_time" ],
   "names": ["Time"],
   "xaxis":{ "parameter":"resources.tasks", "label":"Number of tasks" },
   "yaxis":{"label":"Execution time (s)"},
   "secondary_axis":{ "parameter":"elements", "label":"N" }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information about <em>feelpp.benchmarking</em> figure configuration can be found <a href="https://bench.feelpp.org/benchmarking/tutorial/configuration.html#_figures">here</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_running_a_benchmark"><a class="anchor" href="#_running_a_benchmark"></a>3.5. Running a benchmark</h3>
<div class="paragraph">
<p>Finally, to benchmark the test application, generate the reports and plot the figures, run (changing the file paths as needed)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">feelpp-benchmarking-exec --machine-config examples/machines/default.json \
                  --custom-rfm-config examples/machines/default.py \
                  --benchmark-config examples/parallelsum/parallelSum.json \
                  --plots-config examples/parallelsum/plots.json \
                  --website</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>--website</code> option will start an http-server on localhost, so the website can be visualized. Check the console for more information.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you installed the framework via PyPi:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You need to directly download all 5 quickstart files.</p>
</li>
<li>
<p>The <code>--website</code> option will only work if you have the exact antora setup as this repository.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage"><a class="anchor" href="#_usage"></a>4. Usage</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_executing_a_benchmark"><a class="anchor" href="#_executing_a_benchmark"></a>4.1. Executing a benchmark</h3>
<div class="paragraph">
<p>In order to execute a benchmark, you can make use of the <code>feelpp-benchmarking-exec</code> command after all configuration files have been set ( <a href="configuration.html" class="xref page">Configuration Reference</a>).</p>
</div>
<div class="paragraph">
<p>The script accepts the following options :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>`--machine-config`, (`-mc`)
                      Path to JSON reframe machine configuration file, specific to a system.
`--plots-config`, (`-pc`)   Path to JSON plots configuration file, used to generate figures.
                      If not provided, no plots will be generated. The plots configuration can also be included in the benchmark configuration file, under the "plots" field.
`--benchmark-config`, (`-bc`)
                      Paths to JSON benchmark configuration files
                      In combination with `--dir`, specify only provide basenames for selecting JSON files.
`--custom-rfm-config`, (`-rc`)
                      Additional reframe configuration file to use instead of built-in ones. It should correspond the with the `--machine-config` specifications.
`--dir`, (`-d`)             Name of the directory containing JSON configuration files
`--exclude`, (`-e`)         To use in combination with `--dir`, mentioned files will not be launched.
                      Only provide basenames to exclude.
`--move-results`, (`-mv`)   Directory to move the resulting files to.
                      If not provided, result files will be located under the directory specified by the machine configuration.
`--list-files`, (`-lf`)     List all benchmarking configuration file found.
                      If this option is provided, the application will not run. Use it for validation.
`--verbose`, (`-v`)         Select verbose level by specifying multiple v's.
`--help`, (`-h`)            Display help and quit program
`--website`, (`-w`)         Render reports, compile them and create the website.
`--dry-run`             Execute ReFrame in dry-run mode. No tests will run, but the script to execute it will be generated in the stage directory. Config validation will be skipped, although warnings will be raised if bad.
`--reframe-args`, (`-rfm`)  String containing arguments to pass directly to ReFrame. This option MUST be specified with an equal `=` sign in order to not have conflicting options. For example: `-rfm="--help --list -vv"`</pre>
</div>
</div>
<div class="paragraph">
<p>When a benchmark is done, a <code>website_config.json</code> file will be created (or updated) with the current filepaths of the reports and plots generated by the framework. If the <code>--website</code> flag is active, the <code>feelpp-benchmarking-render</code> command will be launched with this file as argument.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rendering_reports"><a class="anchor" href="#_rendering_reports"></a>4.2. Rendering reports</h3>
<div class="paragraph">
<p>To render reports, a webiste configuration file is needed. This file indicates how the website views should be structured, and it indicates the hierarchy of the benchmarks.</p>
</div>
<div class="paragraph">
<p>A file of the same type is generated after a benchmark is launched, called <em>website_config.json</em>, and it is found at the root of the <em>reports</em> directory specified under the <code>reports_base_dir</code> field of machine configuration file ( xref:tutorial:configfiles/machine.adoc).</p>
</div>
<div class="paragraph">
<p>Once this file is located, users can run the <code>feelpp-benchmarking-render</code> command to render existing reports.</p>
</div>
<div class="paragraph">
<p>The script takes the following arguments:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>`--config-file` (`-c`): The path of the website configuration file.
`--remote-download-dir` (`-do`): [Optional] Path of the directory to download the reports to. Only relevant if the configuration file contains remote locations (only Girder is supported at the moment).
`--modules-path` (`-m`): [Optional] Path to the Antora module to render the reports to. It defaults to _docs/modules/ROOT/pages_. Multiple directories will be recursively created under the provided path.
`--overview-config` (`-oc`): Path to the overview figure configuration file.
`--plot-configs` (`-pc`): Path the a plot configuration to use for a given benchmark. To be used along with --patch-reports
`--patch-reports` (`-pr`) : Ids of the reports to path, the syntax of the id is machine:application:usecase:date e.g. gaya:feelpp_app:my_use_case:2024_11_05T01_05_32. It is possible to affect all reports in a component by replacing the machine, application, use_case or date by 'all'. Also, one can indicate to patch the latest report by replacing the date by 'latest'. If this option is not provided but plot-configs is, then the latest report will be patched (most recent report date)
`--save-patches` (`-sp`) : If this flag is active, existing plot configurations will be replaced with the ones provided in patch-reports.
`--website` (`-w`) : [Optional] Automatically compite the website and start an http server.</pre>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer" style="border-top: 2px solid #e9e9e9; background-color: #fafafa; padding-bottom: 2em; padding-top: 2em;">
    <div class="container" style="display: flex; flex-direction: column; align-items: center; gap: 0.5em;">
        <div>
            <a href="https://www.cemosis.fr">
                <img src="../../_/img/cemosis-logo.svg" alt="Cemosis logo" height="50">
            </a>
        </div>
        <span style="font-size: 0.8rem; color: #9e9e9e">© 2025 <a href="https://www.cemosis.fr" style="text-decoration: underline;">Cemosis</a>, Université de Strasbourg</span>
    </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="../../_/js/figure-helper.js"></script>
<script src="../../_/js/table-filter-sort.js"></script>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>


<!-- Font Awesome JS removed to use webfont icons only -->
<script async src="../../_/js/vendor/highlight.js"></script>

<script src="../../_/js/vendor/lunr.js"></script>

<script type="text/javascript">
function toggleFullScreen() {
   var doc = window.document;
   var docEl = doc.documentElement;

   var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;
   var cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;

   if(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {
       requestFullScreen.call(docEl);
   }
   else {
       cancelFullScreen.call(doc);
   }
}
</script>
  </body>
</html>
