{
    "executable": "feelpp_kub_cem",
    "executable_dir":"/data/home/cladellash/ktirio-urban-building/build/src/cpp/",
    "output_directory": "{{machine.output_app_dir}}/kub",
    "use_case_name": "kernante",
    "timeout":"0-0:15:0",
    "platforms": {
        "apptainer":{
            "image": {
                "name":"{{machine.containers.apptainer.image_base_dir}}/kub.sif"
            },
            "input_dir":"/input_data/",
            "options": [
                "--home {{machine.output_app_dir}}",
                "--bind {{machine.input_dataset_base_dir}}/kub/cfg/:{{platforms.apptainer.input_dir}}"
            ],
            "append_app_option":[]
        },
        "builtin":{
            "input_dir":"{{machine.input_dataset_base_dir}}/kub/cfg/",
            "append_app_option":[]
        }
    },
    "options": [
        "--config-file {{platforms.{{machine.platform}}.input_dir}}/Kernante.cfg",
        "--cem.database.directory {{output_directory}}/{{use_case_name}}/{{instance}}"
    ],
    "outputs": [],
    "scalability": {
        "directory": "{{output_directory}}/{{use_case_name}}/{{instance}}/cem/",
        "stages": [
            {
                "name":"",
                "file": "instances/np_{{parameters.nb_tasks.tasks.value}}/logs/timers.json",
                "format": "json",
                "variables_path":"*"
            },
            {
                "name":"",
                "file": "logs/timers.json",
                "format": "json",
                "variables_path":"*"
            }
        ]
    },
    "sanity": {
        "success": [],
        "error": ["Error"]
    },
    "upload": {
        "platform": "girder",
        "folder_id": "672a1452b0e95728eb010b38"
    },
    "parameters": [
        {
            "name": "nb_tasks",
            "zip": [
                {
                    "name":"tasks",
                    "geometric":{
                        "start":1,
                        "max":32,
                        "n_steps":6
                    }
                },
                {
                    "name":"nodes",
                    "repeat":{
                        "value":1,
                        "count":6
                    }
                },
                {
                    "name":"exclusive_access",
                    "repeat":{
                        "value":true,
                        "count":6
                    }
                }
            ]
        }
    ]
}